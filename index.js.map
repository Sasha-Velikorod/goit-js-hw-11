{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImagesByQuery(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const KEY_API = '51376932-00c07b39d8c117a87ed229cff';\n\n  const params = new URLSearchParams({\n    key: KEY_API,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createGallery(images) {\n  return images\n    .map(\n      item => `<li class = \"gallery-item\"><a href = \"${item.largeImageURL}\"><img class = \"gallery-img\" src = \"${item.webformatURL}\" alt = \"${item.tags}\"> </a> \n       <div class=\"info\">\n    <div class=\"info-item\">\n      <p class=\"info-title\">Likes</p>\n      <p class=\"info-value\"> ${item.likes}</p>\n    </div>\n    <div class=\"info-item\">\n      <p class=\"info-title\">Views</p>\n      <p class=\"info-value\">${item.views}</p>\n    </div>\n    <div class=\"info-item\">\n      <p class=\"info-title\">Comments</p>\n      <p class=\"info-value\">${item.comments}</p>\n    </div>\n    <div class=\"info-item\">\n      <p class=\"info-title\">Downloads</p>\n      <p class=\"info-value\">${item.downloads}</p>\n    </div>\n  </div>\n          \n  </li>`\n    )\n    .join('');\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n\n  gallery.innerHTML = '';\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n\n  loader.classList.add('is-hidden');\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n\n  loader.classList.remove('is-hidden');\n}\n\nconst lightBox = new SimpleLightbox('.gallery a');\nexport function createLightBox() {\n  lightBox.refresh();\n}\n","import { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n  createLightBox,\n} from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n};\n\nconst onSubmit = e => {\n  e.preventDefault();\n\n  clearGallery();\n  showLoader();\n\n  const searchQuery = e.target.elements['search-text'].value.trim();\n\n  if (searchQuery === '') {\n    hideLoader();\n\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n  getImagesByQuery(searchQuery)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n      refs.gallery.innerHTML = createGallery(data.hits);\n      createLightBox();\n    })\n    .catch(err => console.log(err))\n    .finally(() => hideLoader());\n};\n\nrefs.form.addEventListener('submit', onSubmit);\n"],"names":["getImagesByQuery","query","BASE_URL","KEY_API","params","response","createGallery","images","item","clearGallery","gallery","hideLoader","showLoader","lightBox","SimpleLightbox","createLightBox","refs","onSubmit","e","searchQuery","iziToast","data","err"],"mappings":"6vBAAO,SAASA,EAAiBC,EAAO,CACtC,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfO,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACCC,GAAQ,yCAAyCA,EAAK,aAAa,uCAAuCA,EAAK,YAAY,YAAYA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,+BAIvHA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,8BAIXA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,8BAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,8BAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,QAKvC,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAe,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjDA,EAAQ,UAAY,EACtB,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EAExC,UAAU,IAAI,WAAW,CAClC,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EAExC,UAAU,OAAO,WAAW,CACrC,CAEA,MAAMC,EAAW,IAAIC,EAAe,YAAY,EACzC,SAASC,GAAiB,CAC/BF,EAAS,QAAO,CAClB,CC1CA,MAAMG,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEMC,EAAWC,GAAK,CACpBA,EAAE,eAAc,EAEhBT,IACAG,IAEA,MAAMO,EAAcD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAE3D,GAAIC,IAAgB,GAAI,CACtBR,IAEAS,EAAS,MAAM,CACb,QACE,0EACR,CAAK,EACD,MACD,CACDpB,EAAiBmB,CAAW,EACzB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACDJ,EAAK,QAAQ,UAAYV,EAAce,EAAK,IAAI,EAChDN,GACN,CAAK,EACA,MAAMO,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAMX,EAAU,CAAE,CAC/B,EAEAK,EAAK,KAAK,iBAAiB,SAAUC,CAAQ"}